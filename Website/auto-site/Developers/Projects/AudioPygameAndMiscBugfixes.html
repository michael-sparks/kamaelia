<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | <a href="/About.html">About</a> | <a href="/Developers.html">Developers</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>Feb 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<h2 id="project-task-page-pymedia-audio-pygame-and-misc-bugfixes">Project Task Page: PyMedia Audio, Pygame and misc bugfixes</h2>
<div class="boxright">
<p><strong>Status:</strong> Completed<br />
<strong>Current Developers:</strong> <em>MH</em>, MS<br />
<strong>Current "inflight" dev location:</strong> /branches/private_MH_20070423_kamaelia_bugfixes<br />
<strong>Start Date:</strong> <em>23 April 2007</em><br />
<strong>Expected End Date:</strong> 30 April 2007<br />
<strong>End Date:</strong> 27 April 2007<br />
<strong>Date this page last updated:</strong> <em>30 April 2007</em><br />
<strong>Estimated effort so far:</strong> 2.0<br />
</p>
</div>
<p><strong><br />
</strong></p>
<h2 id="description"><strong>Description</strong></h2>
<p><strong>Bugfixes</strong> to fix following:</p>
<ul>
<li>Kamaelia.Audio.PyMedia.Input - not working under win32 (noSpaceInBox exceptions) (<a href="http://sourceforge.net/mailarchive/forum.php?thread_name=96d4cf580704181815u6b99f9acyef8d65e98b72633f%40mail.gmail.com&amp;forum_name=kamaelia-list">see mailing list</a>)<br />
</li>
<li>Kamaelia.UI.Pygame.Display - not working under win32 and MacOSX (freezes/unresponsive to keyboard/mouse interaction) (<a href="http://koala.ilog.fr/twikiirc/bin/irclogger_log/kamaelia?date=2007-04-23,Mon&amp;sel=15#l11">see IRC logs</a>)<br />
</li>
<li>Kamaelia.Util.Chooser - not quiescent</li>
<li>Kamaelia example "Show.py" raises exception on startup: (<a href="http://koala.ilog.fr/twikiirc/bin/irclogger_log/kamaelia?date=2007-04-23,Mon&amp;sel=226#l222">see IRC logs</a>)</li>
</ul>
<h2 id="inputs">Inputs</h2>
<p>Task Sponsor: MH</p>
<p>Task Owner: MH<br />
</p>
<p>Developers: MH, MS<br />
</p>
<p>Users: MH, _eris (IRC), David Montgomery<br />
</p>
<p>Interested third parties: MS</p>
<p>Requirements</p>
<ul>
<li>MUST fix the bugs so the problem doesn't occur</li>
<li>SHOULD not result in any foreseeable regressions<br />
</li>
</ul>
<h2 id="outputs">Outputs</h2>
<h3 id="expected">Expected</h3>
<p>Modifications to:</p>
<ul>
<li>/Code/Python/Kamaelia/Kamaelia/UI/Pygame/Display.py</li>
<li>/Code/Python/Kamaelia/Kamaelia/Audio/PyMedia/Input.py</li>
<li>/Code/Python/Kamaelia/Kamaelia/Util/Chooser.py</li>
<li>/Code/Python/Kamaelia/Kamaelia/Tools/Show.py</li>
</ul>
<h3 id="actual">Actual</h3>
<p>Branch /branches/private_MH_20070423_kamaelia_bugfixes/</p>
<p>...containing modifications to:</p>
<ul>
<li>/Code/Python/Kamaelia/Kamaelia/Audio/Input/PyMedia/Input.py</li>
<li>/Code/Python/Kamaelia/Kamaelia/UI/Pygame/Display.py</li>
<li>/Code/Python/Kamaelia/Kamaelia/Util/Chooser.py<br />
</li>
<li>/Code/Python/Kamaelia/Tools/Show/GraphSlides.py</li>
<li>/Code/Python/Kamaelia/Kamaelia/Support/Data/Experimental.py</li>
</ul>
<p>... which were merged into /trunk<br />
</p>
<h3 id="realistic-possibilities-arising-as-a-result-of-activity-on-this-task">Realistic possibilities arising as a result of activity on this task</h3>
<p>none<br />
</p>
<h2 id="related-tasks">Related Tasks</h2>
<h3 id="tasks-that-directly-enable-this-task-dependencies">Tasks that directly enable this task (dependencies)</h3>
<p>none<br />
</p>
<h3 id="sub-tasks">Sub Tasks</h3>
<ul>
<li>Branch containing modifications</li>
<li>Merge of branch</li>
</ul>
<h2 id="task-log">Task Log</h2>
<ul>
<li>2007 04 22 : <strong>Task status changed</strong> to running</li>
<li>2007 04 22 : Added developer MH</li>
<li>2007 04 22 : Fixed PyMedia Input code in private Sketches area. Tested by MH under win32.<br />
</li>
<li>2007 04 23 : Created branch /branches/private_MH_20070423_kamaelia_bugfixes/</li>
<li>2007 04 23 : Fixed PyGame Display bug. Verified working on win32 by MH and MacOSX by eris_</li>
<li>2007 04 23 : Imported fixed PyMedia Input code from Sketches</li>
<li>2007 04 23 : Fixed quiescence in Chooser - tested by MH in Show.py tool<br />
</li>
<li>2007 04 25 : Time spent 1.5 days</li>
<li>2007 04 22 : <strong>Task status changed</strong> to stasis - waiting for test feedback from David Montgomery</li>
<li>2007 04 27 : Removed developer MH</li>
<li>2007 04 27 : Added developer MS</li>
<li>2007 04 27 : <strong>Task status changed</strong> to running - decided to proceed anyway (MH has already tested on win32)</li>
<li>2007 04 27 : Branch merged</li>
<li>2007 04 27 : <strong>Task status changed</strong> to completed</li>
<li>2007 04 27 : Time spend 0.5 days<br />
</li>
</ul>
<h2 id="discussion">Discussion</h2>
<p>Note this branch was renamed (logged by svn as a copy operation). <strong>The original branch point is revision r2887</strong>. The renaming occurred at revision r2899.<br />
<br />
</p>
<p>PyMedia Input bug was two-fold:</p>
<ul>
<li>Not handling when pymedia returns "None" instead of string like (not actually string) data; or empty strings</li>
<li>Not handling noSpaceInBox exceptions - more likely if pumping out small fragments of data, and never really pausing/waiting<br />
</li>
</ul>
<p>PyGame Display bug:</p>
<ul>
<li>win32 and MacOSX limitations in pygame/SDL require the display to be initialised, and event handling to be done in the application's main thread - not a child thread. Fixed by moving everything into the main thread, but still keeping the child thread as a passive observer that makes sure the main component gets woken up if events are waiting.</li>
</ul>
<p>show.py bug:<br />
</p>
<ul>
<li>misunderstood use of the xml.sax.make_parser call - should have provided a list of strings as an argument rather than a string. Seems to work on Linux on test machines used by MS and MH, but problem shows up on win32 and MacOSX.<br />
</li>
</ul>
<p>-- Matt, 25 April 2007<br />
<br />
</p>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
