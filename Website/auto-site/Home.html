<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | 
    <a href="/About.html">About</a> | 
    <a href="/RecentChanges.html">Recent Changes</a> | 
    <a href="/Documentation.html">Documentation</a> |
    <a href="/Community.html">Community</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>March 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<div class="pagesection">
<p><img src="/site-resources/cat-trans-medium.png" id="logo" /></p>
<div id="pagebanner">
<h1 id="kamaelia---concurrency-made-useful-fun">Kamaelia - Concurrency
made useful, fun</h1>
<p>In Kamaelia you build systems from <strong>simple components that
talk to each other</strong>. This speeds development, massively aids
maintenance and also means you <strong>build naturally concurrent
software</strong>. It's intended to be accessible by
<strong>any</strong> developer, including novices. It also makes it fun
:)</p>
<p>What sort of systems? Network servers, clients, desktop applications,
pygame based games, transcode systems and pipelines, digital TV systems,
<a href="/KamaeliaGrey.html">spam eradicators</a>, <a
href="/SpeakAndWrite.html">teaching tools</a>, and a fair amount more
:)</p>
</div>
</div>
<hr />
<div class="pagesection">
<div class="column">
<h2 id="use">Use</h2>
<h3 id="kamaelia-based-systems">Kamaelia based systems</h3>
<p>There's quite a few Kamaelia systems as example applications in <a
href="https://github.com/sparkslabs/kamaelia/tree/master/Code/Python/Apps">the
repository on github</a>. Some sample apps:</p>
<h3 id="kamaelia-grey"><a href="/KamaeliaGrey.html">Kamaelia
Grey</a></h3>
<p>Spam reduction through greylisting. Kamaelia Grey is a SMTP proxy for
your inbound email, rejecting email likely to be spam. Mail likely to
not be spam is forwarded to your normal mail server.</p>
<h3 id="batch-transcoder"><a href="/ActiveFileProcessor.html">Batch
Transcoder</a></h3>
<p>This watches directories for new images and videos to transcode to
formats suitable for the web. You can think of it as the backend needed
for a youtube/flickr type site. PDF support is likely to be added
soon.</p>
<h3 id="whiteboard"><a
href="/Developers/Projects/Whiteboard.html">Whiteboard</a></h3>
<p>A collaborative whiteboard. 2 or more machines share a display you
can write on - either can be a server. Whiteboards are paginated, and
therefore can also be used for remote presentations. Really cool with a
tablet.</p>
<h3 id="macro"><a href="/KamaeliaMacro.html">Macro</a></h3>
<p>Records and transcodes digital TV for later viewing (ie
timeshifting). It can do this for as many channels at once as you have
CPU power and tuners available for it.</p>
</div>
<div class="column">
<h2 id="kamaelia-documentation">Kamaelia Documentation</h2>
<h3 id="build-improve-kamaelia-based-systems">Build &amp; improve
Kamaelia based systems</h3>
<h3 id="documentation">Documentation</h3>
<p>Documentation is a core asset in Kamaelia. As of Jan 2024, this is
now being significantly updated.</p>
<p>While this is done you are invited to look at the <a
href="/Components.html">Component Reference</a> for an indication of the
scope of components, and the <a href="/Cookbook.html">Cookbook</a> for
small examples.</p>
<h3 id="books">Books</h3>
<p>Two major pieces of Kamaelia documentation are booksized PDFs:</p>
<ul>
<li><a
href="/downloads/20090619.KamaeliaPragmaticConcurrencyEuropython09.Final.pdf">The
Kamaelia Europython tutorial</a>. This is an 84 page book teaching you
the ideas behind Kamaelia, building your own core, building components
and systems.</li>
<li><a href="/downloads/AxonKamaelia_docs.pdf">A newer &gt;400 page API
reference book</a>, which documentation autogenerated &amp; extracted
from the codebase - covering both Axon and Kamaelia. (This is new as of
Jan 2024 and a bit rough around the edges!)</li>
</ul>
<h3 id="cookbook"><a href="/Cookbook.html">Cookbook</a></h3>
<p>This section contains a number of recipes showing how to build a
variety of different types of Kamaelia systems. Sections include:</p>
<ul>
<li>Linking components together</li>
<li>Building Network systems, clients, servers, IM, etc</li>
<li>Building Digital TV systems</li>
<li>Building Multimedia systems</li>
<li>Using Kamaelia components &amp; subsystems in non-kamaelia
systems.</li>
</ul>
<p><strong>More recipes always welcome.</strong></p>
<h3 id="component-reference"><a href="/Components.html">Component
Reference</a></h3>
<p>Full component reference.</p>
<h3 id="axon-reference"><a href="/Docs/Axon/Axon.html">Axon
Reference</a></h3>
<p>Full reference for Axon - the core of Kamaelia.</p>
<h3 id="tutorials"><a href="/Tutorials.html">Tutorials</a></h3>
<ul>
<li>Dive into <a href="/Tutorials.html">Kamaelia tutorials from a
variety of perspectives</a></li>
<li>See the <a href="/Presentations.html">presentations given
publicly</a></li>
</ul>
</div>
<div class="column">
<h2 id="community">Community</h2>
<h3 id="kamaelia-is-open-source-help-us-improve-it">Kamaelia is open
source, help us improve it!</h3>
<h3 id="developer-central"><a href="/Developers/">Developer
Central</a></h3>
<p>Interested in helping out? You're more than welcome! In this area
you'll find some pages which cover some areas of interest for ongoing
dev, our general development process, project management process,
guidelines on contributing (eg smart questions, through to code, and
contributor agreements)</p>
<h3 id="get-help-contact"><a href="/Contact.html">Get Help
(Contact)</a></h3>
<p>For now, please contact us by <a
href="https://github.com/sparkslabs/kamaelia/issues">opening a github
issue</a> on the project repo.</p>
<h3 id="summer-of-code"><a href="/SummerOfCode.html">Summer of
Code</a></h3>
<p>We've been involved with GSOC now for 3 years, and it's been great.
One of the less obvious things about GSOC is that it's generated a
wealth of docs and ideas which can be dived into here.</p>
<h3 id="source"><a href="/Repository.html">Source</a></h3>
<p>Kamaelia's source is hosted on <a
href="https://github.com/sparkslabs/kamaelia/">Github</a>. The latest
release is somewhat out of data at this point and is to be used (with
caution) with Python 2.7. That release is the <a
href="/release/MonthlyReleases/Kamaelia-1.0.12.0.tar.gz">1.0.12.0
release</a>. (Y.Y.M.r). Some <a href="/release/">apps</a> are also
available in the release directory.</p>
<p><strong>Note:</strong> That release is being retired as part of the
2024 update, and will be replaced with a python 3 compatible version
instead. (Much of Kamaelia has worked with python 3 for a number of
years now)</p>
<h3 id="downloads">Downloads</h3>
<p>Please note that these are somewhat out of date, and to be used with
caution with Python 2.7. As of Jan 2024, this site and the codebase are
being updated, and this process is being tracked in Kamaelia's issues.
In the mean time:</p>
<p><a href="/release/MonthlyReleases/Kamaelia-1.0.12.0.tar.gz">Current
Release 1.0.12.0 (December 30th 2010)</a></p>
<p>See also <a href="/GetKamaelia.html">getting started</a>)</p>
<p>Other <a href="/release/">releases</a> and <a
href="/downloads/">downloads</a>.</p>
</div>
</div>
<section id="a-quick-overview" class="pagesection">
<h1>A quick overview</h1>
<div class="boxright">
<p>There is a <a href="https://www.bbc.co.uk/rd/publications/whitepaper113">BBC R&amp;D Whitepaper on Kamaelia</a>.</p>
<p>The project grew significantly after this whitepaper was written, but
it's useful to give the original context:</p>
<p><strong><a href="https://www.bbc.co.uk/rd/publications/whitepaper113">WHP 113: Kamaelia: highly concurrent and network systems tamed (2005)</a></strong></p>
<p><em>Kamaelia is a project aimed at building large scale online media
delivery systems for the long term. [...] A key aim of Kamaelia is to
enable even novice programmers to create scalable and safe concurrent
systems, quickly and easily.</em></p>
</div>
<p><a href="/Home.html">Kamaelia</a> is a Python library by <a
href="https://www.bbc.co.uk/rd">BBC Research</a> for concurrent
programming using a simple pattern of components that send and receive
data from each other. The following is an example of a system made by
piping the output of one component into another:</p>
<blockquote>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> Kamaelia.Chassis.Pipeline <span class="im">import</span> Pipeline</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> Kamaelia.Util.Console <span class="im">import</span> ConsoleReader, ConsoleEchoer</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>Pipeline(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    ConsoleReader(),</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    ConsoleEchoer(),</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>).run()</span></code></pre></div>
</blockquote>
<p>Or maybe you want to build a presentation tool? (imports &amp; setup
excluded here - <a href="/Examples/SimplestPresentationTool.html">full
example</a>)</p>
<blockquote>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Graphline(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>     CHOOSER <span class="op">=</span> Chooser(items <span class="op">=</span> files),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>     IMAGE <span class="op">=</span> Image(size<span class="op">=</span>(<span class="dv">800</span>,<span class="dv">600</span>), position<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">48</span>)),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>     NEXT <span class="op">=</span> Button(caption<span class="op">=</span><span class="st">&quot;Next&quot;</span>, msg<span class="op">=</span><span class="st">&quot;NEXT&quot;</span>, position<span class="op">=</span>(<span class="dv">72</span>,<span class="dv">8</span>)),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>     PREVIOUS <span class="op">=</span> Button(caption<span class="op">=</span><span class="st">&quot;Previous&quot;</span>, msg<span class="op">=</span><span class="st">&quot;PREV&quot;</span>,position<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">8</span>)),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>     FIRST <span class="op">=</span> Button(caption<span class="op">=</span><span class="st">&quot;First&quot;</span>, msg<span class="op">=</span><span class="st">&quot;FIRST&quot;</span>,position<span class="op">=</span>(<span class="dv">256</span>,<span class="dv">8</span>)),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>     LAST <span class="op">=</span> Button(caption<span class="op">=</span><span class="st">&quot;Last&quot;</span>, msg<span class="op">=</span><span class="st">&quot;LAST&quot;</span>,position<span class="op">=</span>(<span class="dv">320</span>,<span class="dv">8</span>)),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>     linkages <span class="op">=</span> {</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        (<span class="st">&quot;NEXT&quot;</span>,<span class="st">&quot;outbox&quot;</span>) : (<span class="st">&quot;CHOOSER&quot;</span>,<span class="st">&quot;inbox&quot;</span>),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        (<span class="st">&quot;PREVIOUS&quot;</span>,<span class="st">&quot;outbox&quot;</span>) : (<span class="st">&quot;CHOOSER&quot;</span>,<span class="st">&quot;inbox&quot;</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        (<span class="st">&quot;FIRST&quot;</span>,<span class="st">&quot;outbox&quot;</span>) : (<span class="st">&quot;CHOOSER&quot;</span>,<span class="st">&quot;inbox&quot;</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        (<span class="st">&quot;LAST&quot;</span>,<span class="st">&quot;outbox&quot;</span>) : (<span class="st">&quot;CHOOSER&quot;</span>,<span class="st">&quot;inbox&quot;</span>),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        (<span class="st">&quot;CHOOSER&quot;</span>,<span class="st">&quot;outbox&quot;</span>) : (<span class="st">&quot;IMAGE&quot;</span>,<span class="st">&quot;inbox&quot;</span>),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>     }</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>).run()</span></code></pre></div>
</blockquote>
<p>That's all well and good, but how is a component written? What's
inside it?<br />
</p>
<blockquote>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> Axon.Component <span class="im">import</span> component</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> Axon.Ipc <span class="im">import</span> shutdownMicroprocess, producerFinished</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyComponent(component):</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    Inboxes <span class="op">=</span> {<span class="st">&quot;inbox&quot;</span>        : <span class="st">&quot;some data in&quot;</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;control&quot;</span>      : <span class="st">&quot;stops the component&quot;</span>}</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    Outboxes <span class="op">=</span> {<span class="st">&quot;outbox&quot;</span>      : <span class="st">&quot;some data out&quot;</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;signal&quot;</span>      : <span class="st">&quot;Shutdown signal&quot;</span>}</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, <span class="op">**</span>argd):</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">super</span>(MyComponent, <span class="va">self</span>).<span class="fu">__init__</span>(<span class="op">**</span>argd)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> main(<span class="va">self</span>):</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> <span class="kw">not</span> <span class="va">self</span>.doShutdown():</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="va">self</span>.dataReady(<span class="st">&quot;inbox&quot;</span>):</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> <span class="va">self</span>.recv(<span class="st">&quot;inbox&quot;</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>                <span class="co"># let&#39;s echo what we received...</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>                <span class="va">self</span>.send(data, <span class="st">&quot;outbox&quot;</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="kw">not</span> <span class="va">self</span>.anyReady():</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>                <span class="va">self</span>.pause()</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">yield</span> <span class="dv">1</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> doShutdown(<span class="va">self</span>):</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>       <span class="cf">if</span> <span class="va">self</span>.dataReady(<span class="st">&quot;control&quot;</span>):</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>            mes <span class="op">=</span> <span class="va">self</span>.recv(<span class="st">&quot;control&quot;</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="bu">isinstance</span>(mes, shutdownMicroprocess) <span class="kw">or</span> <span class="bu">isinstance</span>(mes, producerFinished):</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>                <span class="va">self</span>.send(producerFinished(), <span class="st">&quot;signal&quot;</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span></code></pre></div>
</blockquote>
<p>This is the simplest form a component can take. A component:</p>
<ul>
<li>is a class that inherits from
<code>Axon.Component.component</code></li>
<li>has inboxes and outboxes</li>
</ul>
<p>By inheriting from <code>Axon.Component.component</code> you make
your class usable by the <a href="/MiniAxon.html">Axon</a> library which
is at the core of the Kamaelia library. It allows for your class to be
used with other components.</p>
<p>Inboxes and outboxes allow your component to be linked to and from by
other components.</p>
<p>Then your class defines a main method that simple loop until a
specific kind of message is put into the "control" inbox of the
component. During the looping it checks for any inboxes and process data
read from them. Eventually it yields to the Axon scheduler that goes to
the next available component. By using a generator we allow the
scheduler to come back to the component's loop eventually.</p>
<p>Note that inboxes and outboxes are pure Python dictionary hence they
allow for any Python objects and are not limited to strings. The
component described above is simple, complex components have many
inboxes and outboxes to link to and from.</p>
<h2 id="kamaelia">Kamaelia</h2>
<p>Kamaelia is a library of components for <a
href="/Components.html">all kind of tasks and topics</a>:</p>
<p>For example taking the previous example we could write:</p>
<blockquote>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> Kamaelia.Chassis.Pipeline <span class="im">import</span> Pipeline</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> Kamaelia.Util.Consoleimport ConsoleReader, ConsoleEchoer</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>Pipeline(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>         ConsoleReader(),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>         MyComponent(),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>         ConsoleEchoer(),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>).run()</span></code></pre></div>
</blockquote>
<p><a
href="/Components/pydoc/Kamaelia.Experimental.Chassis.Pipeline.html">Pipeline</a>
is component that automatically links outboxes to inboxes of each
provided component. The console components allow for reading and writing
data from and to the command line. Because <code>Pipeline</code> is also
a component itself it could in turns be used in another component.</p>
<p>Note that calling the <code>run()</code> method on a component blocks
the process until it is killed. You can also simply activate a component
which will then be in an active state but will run only when eventually
<code>run</code> is called on another component.</p>
<p>Now that you have the basics of Kamaelia you should dive into the <a
href="/Cookbook.html">documentation</a> and have fun with this
library.</p>
</section>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
