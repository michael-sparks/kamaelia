<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | <a href="/About.html">About</a> | <a href="/Developers.html">Developers</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>Feb 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<div class="container">
<h1 id="kamaelia.ui.pygame.text"><a href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a href="/Components/pydoc/Kamaelia.UI.html" class="reference">UI</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.html" class="reference">Pygame</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.html" class="reference">Text</a></h1>
<section>
<div class="container">
<ul>
<li><strong>component <a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.TextDisplayer.html" class="reference">TextDisplayer</a></strong></li>
<li><strong>component <a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.Textbox.html" class="reference">Textbox</a></strong></li>
</ul>
</div>
<ul>
<li><a href="#374" class="reference">Pygame components for text input and display</a>
<ul>
<li><a href="#375" class="reference">Example Usage</a></li>
<li><a href="#376" class="reference">How does it work?</a></li>
<li><a href="#377" class="reference">Known issues</a></li>
</ul></li>
</ul>
</section>
<h1 id="pygame-components-for-text-input-and-display-374">Pygame components for text input and display {#374}</h1>
<p>TextDisplayer displays any data it receives on a Pygame surface. Every new piece of data is displayed on its own line, and lines wrap automatically.</p>
<p>Textbox displays user input while the user types, and sends its string buffer to its 'outbox' when it receives a ' '.</p>
<h2 id="example-usage-375"><span id="example-usage">Example Usage</span> {#375}</h2>
<p>To take user input in Textbox and display it in TextDisplayer:</p>
<pre class="literal-block"><code>Pipeline(Textbox(size = (800, 300),
                 position = (0,0)),
         TextDisplayer(size = (800, 300),
                       position = (0,340))
         ).run()</code></pre>
<h2 id="how-does-it-work-376"><span id="how-does-it-work">How does it work?</span> {#376}</h2>
<p>TextDisplayer requests a display from the Pygame Display service and requests that Pygame Display send all keypresses to it. Every time TextDisplayer receives a keypress, it updates its string buffer and the display.</p>
<p>If it receives a newline, or if text must wrap, it moves the existing text upwards and blits the new line onto the bottom.</p>
<h2 id="known-issues-377"><span id="known-issues">Known issues</span> {#377}</h2>
<p>The line wrapping length is specified by the width of the display divided by the width of the letter 'a' in the displayed font, so lines may wrap too far off the edge of the screen if the user types very narrow text (i.e.Â just spaces with no other charachters), or too far inside the edge of the screen (usually).</p>
<hr />
<section>
<h1 id="kamaelia.ui.pygame.text.textdisplayer"><a href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a href="/Components/pydoc/Kamaelia.UI.html" class="reference">UI</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.html" class="reference">Pygame</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.html" class="reference">Text</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.TextDisplayer.html" class="reference">TextDisplayer</a></h1>
<h2 id="symbol-TextDisplayer">class TextDisplayer(<a href="/Docs/Axon/Axon.Component.component.html" class="reference">Axon.Component.component</a>)</h2>
<p>TextDisplayer(...) -&gt; new TextDisplayer Pygame component.</p>
<p>Keyword arguments:</p>
<ul>
<li><dl>
<dt>size -- (w, h) size of the TextDisplayer surface, in pixels.</dt>
<dd><p>Default (500, 300).</p>
</dd>
</dl></li>
<li><p>text_height -- font size. Default 18.</p></li>
<li><dl>
<dt>bgcolour -- tuple containing RGB values for the background color.</dt>
<dd><p>Default is a pale yellow.</p>
</dd>
</dl></li>
<li><dl>
<dt>fgcolour -- tuple containing RGB values for the text color.</dt>
<dd><p>Default is black.</p>
</dd>
</dl></li>
<li><dl>
<dt>position -- tuple containing x,y coordinates of the surface's</dt>
<dd><p>upper left corner in relation to the Pygame window. Default (0,0)</p>
</dd>
</dl></li>
</ul>
<h3 id="inboxes"><span id="symbol-TextDisplayer.Inboxes">Inboxes</span></h3>
<ul>
<li><strong>control</strong> : shutdown handling</li>
<li><strong>_quitevents</strong> : user-generated quit events</li>
<li><strong>_surface</strong> : for PygameDisplay to send surfaces to</li>
<li><strong>inbox</strong> : for incoming lines of text</li>
</ul>
<h3 id="outboxes"><span id="symbol-TextDisplayer.Outboxes">Outboxes</span></h3>
<ul>
<li><strong>outbox</strong> : not used</li>
<li><strong>signal</strong> : propagates out shutdown signals</li>
<li><strong>_pygame</strong> : for sending requests to PygameDisplay</li>
</ul>
<h3 id="methods-defined-here">Methods defined here</h3>
<div class="container">
<div class="boxright">
<p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div>
</div>
<h4 id="init__self-argd"><span id="symbol-TextDisplayer.__init__">__init__(self, **argd)</span></h4>
<p>Initialises</p>
<h4 id="initpygameself-argd"><span id="symbol-TextDisplayer.initPygame">initPygame(self, **argd)</span></h4>
<p>requests a display surface from the PygameDisplay service, fills the color in, and copies it</p>
<h4 id="mainself"><span id="symbol-TextDisplayer.main">main(self)</span></h4>
<p>Main loop</p>
<h4 id="needshutdownself"><span id="symbol-TextDisplayer.needShutdown">needShutdown(self)</span></h4>
<p>Checks for control messages</p>
<h4 id="updateself-text"><span id="symbol-TextDisplayer.update">update(self, text)</span></h4>
<p>Updates text to the bottom of the screen while scrolling old text upwards. Delegates most of the work to updateLine</p>
<h4 id="updatelineself-line"><span id="symbol-TextDisplayer.updateLine">updateLine(self, line)</span></h4>
<p>Updates one line of text to bottom of screen, scrolling old text upwards.</p>
<section>

</section>
<h1 id="kamaelia.ui.pygame.text.textbox"><a href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a href="/Components/pydoc/Kamaelia.UI.html" class="reference">UI</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.html" class="reference">Pygame</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.html" class="reference">Text</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.Textbox.html" class="reference">Textbox</a></h1>
<h2 id="symbol-Textbox">class Textbox(TextDisplayer)</h2>
<p>Textbox(...) -&gt; New Pygame Textbox component</p>
<p>Keyword Arguments:</p>
<ul>
<li>Textbox inherits its keyword arguments from TextDisplayer. Please see TextDisplayer docs.</li>
</ul>
<p>Reads keyboard input and updates it on the screen. Flushes string buffer and sends it to outbox when a newline is encountered.</p>
<h3 id="inboxes-1"><span id="symbol-Textbox.Inboxes">Inboxes</span></h3>
<ul>
<li><strong>control</strong> : shutdown handling</li>
<li><strong>_quitevents</strong> : user-generated quit events</li>
<li><strong>_events</strong> : key events</li>
<li><strong>_surface</strong> : for PygameDisplay to send surfaces to</li>
<li><strong>inbox</strong> : for incoming lines of text</li>
</ul>
<h3 id="outboxes-1"><span id="symbol-Textbox.Outboxes">Outboxes</span></h3>
<ul>
<li><strong>outbox</strong> : not used</li>
<li><strong>signal</strong> : propagates out shutdown signals</li>
<li><strong>_pygame</strong> : for sending requests to PygameDisplay</li>
</ul>
<h3 id="methods-defined-here-1">Methods defined here</h3>
<div class="container">
<div class="boxright">
<p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div>
</div>
<h4 id="mainself-1"><span id="symbol-Textbox.main">main(self)</span></h4>
<p>Requests a surface from PygameDisplay and registers to listen for events Then enters the main loop, which checks for Pygame events and updates them to the screen.</p>
<h4 id="settextself-text"><span id="symbol-Textbox.setText">setText(self, text)</span></h4>
<p>erases the screen and updates it with text</p>
<section>
<h4 id="methods-inherited-from-kamaelia.ui.pygame.text.textdisplayer">Methods inherited from <a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.TextDisplayer.html" class="reference">Kamaelia.UI.Pygame.Text.TextDisplayer</a> :</h4>
<ul>
<li><a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.html#symbol-TextDisplayer.updateLine" class="reference">updateLine</a>(self, line)</li>
<li><a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.html#symbol-TextDisplayer.update" class="reference">update</a>(self, text)</li>
<li><a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.html#symbol-TextDisplayer.needShutdown" class="reference">needShutdown</a>(self)</li>
<li><a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.html#symbol-TextDisplayer.initPygame" class="reference">initPygame</a>(self, **argd)</li>
<li><a href="/Components/pydoc/Kamaelia.UI.Pygame.Text.html#symbol-TextDisplayer.__init__" class="reference">__init__</a>(self, **argd)</li>
</ul>
</section>
</section>
</div>
<h1 id="feedback">Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer? Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback <a href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701" class="reference">here</a> in reply to the documentation thread in the Kamaelia blog.</p>
<p><em>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38 UTC/GMT</em></p>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
