<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | 
    <a href="/About.html">About</a> | 
    <a href="/RecentChanges.html">Recent Changes</a> | 
    <a href="/Documentation.html">Documentation</a> |
    <a href="/Community.html">Community</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>March 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<div class="container">
<h1 id="kamaelia.protocol.torrent.torrentpatron"><a
href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a
href="/Components/pydoc/Kamaelia.Protocol.html"
class="reference">Protocol</a>.<a
href="/Components/pydoc/Kamaelia.Protocol.Torrent.html"
class="reference">Torrent</a>.<a
href="/Components/pydoc/Kamaelia.Protocol.Torrent.TorrentPatron.html"
class="reference">TorrentPatron</a></h1>
<section>
<div class="container">
<ul>
<li><strong>component <a
href="/Components/pydoc/Kamaelia.Protocol.Torrent.TorrentPatron.TorrentPatron.html"
class="reference">TorrentPatron</a></strong></li>
</ul>
</div>
<ul>
<li><a href="#653" class="reference">TorrentPatron - A BitTorrent
Client</a>
<ul>
<li><a href="#654" class="reference">Known quirks</a></li>
<li><a href="#655" class="reference">How does it work?</a></li>
</ul></li>
</ul>
</section>
<h1 id="653">TorrentPatron - A BitTorrent Client</h1>
<p>You MUST have the Mainline (official) BitTorrent client installed for
any BitTorrent stuff to work in Kamaelia.</p>
<p>NOTE: This code has only been successfully tested with version
4.20.8. Problems have been experienced with other more recent versions
regarding a missing or misplaced language translations file. See <a
href="http://download.bittorrent.com/dl/?M=D"
class="uri">http://download.bittorrent.com/dl/?M=D</a> and download the
appropriate version 4.20.8 package for for your platform.</p>
<h2 id="654"><span id="known-quirks">Known quirks</span></h2>
<ul>
<li>Clear out your ~/.bittorrent/ directory if you get errors about
torrents including files that are part of other torrents.</li>
<li>Files can only be downloaded to/uploaded from within the current
directory</li>
</ul>
<p>This component is for downloading and uploading data using the
peer-to-peer BitTorrent protocol.</p>
<p>Use this component in preference to TorrentClient.</p>
<p>This component uses a TorrentService component to co-ordinate the
sharing of a single TorrentClient between many TorrentPatrons. This is
necessary as running more than one instance of TorrentClient will fail
(see TorrentClient.py for a full explanation).</p>
<h2 id="655"><span id="how-does-it-work">How does it work?</span></h2>
<p>When TorrentPatron is first run, it will get a TorrentService object
- if one already exists it will pick that, otherwise it will create a
new one. It then registers itself with this service allowing it to
receive messages from it. Messages TorrentPatron receives on its inbox
are forwarded to TorrentService (in a TIPCServicePassOn wrapper) which
in turn forwards them to TorrentClient. Messages generated by
TorrentClient relevant to the torrents started by this instance of
TorrentPatron are forwarded to it by TorrentService.</p>
<p>The result of this is that inboxes/outboxes used and the IPC messages
accepted/ produced are identical to TorrentClient.</p>
<p>These IPC messages may be found in TorrentIPC.py</p>
<p>Those used internally: * TIPCServicePassOn - used to wrap messages
from TorrentPatron for TorrentClient * TIPCServiceAdd - register this
TorrentPatron with a TorrentService * TIPCServiceRemove - deregister
this TorrentPatron with a TorrentService</p>
<p>Those used externally (i.e.Â seen/sent by user components):</p>
<ul>
<li>Send to TorrentPatron:
<ul>
<li>TIPCCreateNewTorrent - start a new torrent from the contents of a
.torrent file</li>
<li>TIPCCloseTorrent - stop a running torrent</li>
</ul></li>
<li>Sent by TorrentPatron:
<ul>
<li>TIPCNewTorrentCreated - a new torrent has been started from your
(oldest) TIPCCreateNewTorrent message</li>
<li>TIPCTorrentStartFail - the torrent associated with your (oldest)
TIPCCreateNewTorrent message could not be started</li>
<li>TIPCTorrentAlreadyDownloading - the torrent associated with your
(oldest) TIPCCreateNewTorrent message is already downloading</li>
<li>TIPCTorrentStatusUpdate - a status object for one of your active
torrents</li>
</ul></li>
</ul>
<hr />
<h1 id="kamaelia.protocol.torrent.torrentpatron.torrentpatron"><a
href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a
href="/Components/pydoc/Kamaelia.Protocol.html"
class="reference">Protocol</a>.<a
href="/Components/pydoc/Kamaelia.Protocol.Torrent.html"
class="reference">Torrent</a>.<a
href="/Components/pydoc/Kamaelia.Protocol.Torrent.TorrentPatron.html"
class="reference">TorrentPatron</a>.<a
href="/Components/pydoc/Kamaelia.Protocol.Torrent.TorrentPatron.TorrentPatron.html"
class="reference">TorrentPatron</a></h1>
<h2 id="symbol-TorrentPatron">class TorrentPatron(<a
href="/Docs/Axon/Axon.Component.component.html"
class="reference">Axon.Component.component</a>)</h2>
<p>Inboxes/outboxes and message behaviour identical to TorrentClient but
thread-safe so you can create many of these.</p>
<h3 id="inboxes"><span
id="symbol-TorrentPatron.Inboxes">Inboxes</span></h3>
<ul>
<li><strong>torrent-inbox</strong> : Received feedback from
TorrentClient</li>
<li><strong>control</strong> : Shut me down</li>
<li><strong>inbox</strong> : Commands for the TorrentClient</li>
</ul>
<h3 id="outboxes"><span
id="symbol-TorrentPatron.Outboxes">Outboxes</span></h3>
<ul>
<li><strong>outbox</strong> : Forward feedback from TorrentClient out
of</li>
<li><strong>torrent-outbox</strong> : Talk to TorrentClient with</li>
<li><strong>signal</strong> : producerFinished sent when I've
shutdown</li>
</ul>
<h3 id="methods-defined-here">Methods defined here</h3>
<div class="container">
<div class="boxright">
<p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods
(except construction). This documentation is designed as a roadmap as to
their functionalilty for maintainers and new component developers.</p>
</div>
</div>
<h4 id="mainself"><span
id="symbol-TorrentPatron.main">main(self)</span></h4>
<p>Main loop of TorrentPatron</p>
<section>

</section>
</div>
<h1 id="feedback">Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be
clearer? Want to help improve it? Constructive criticism is very welcome
- especially if you can suggest a better rewording!</p>
<p>Please leave you feedback <a
href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701"
class="reference">here</a> in reply to the documentation thread in the
Kamaelia blog.</p>
<p><em>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38
UTC/GMT</em></p>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
