<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | <a href="/About.html">About</a> | <a href="/Developers.html">Developers</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>Feb 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<div class="container">
<h1 id="kamaelia.ui.pygame.ticker"><a href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a href="/Components/pydoc/Kamaelia.UI.html" class="reference">UI</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.html" class="reference">Pygame</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.Ticker.html" class="reference">Ticker</a></h1>
<section>
<div class="container">
<ul>
<li><strong>component <a href="/Components/pydoc/Kamaelia.UI.Pygame.Ticker.Ticker.html" class="reference">Ticker</a></strong></li>
</ul>
</div>
<ul>
<li><a href="#389" class="reference">Pygame text 'Ticker'</a>
<ul>
<li><a href="#390" class="reference">Example Usage</a></li>
<li><a href="#391" class="reference">How does it work?</a></li>
</ul></li>
</ul>
</section>
<h1 id="pygame-text-ticker-389">Pygame text 'Ticker' {#389}</h1>
<p>Displays text in pygame a word at a time as a 'ticker'.</p>
<p>NOTE: This component is very much a work in progress. Its capabilities and API is likely to change substantially in the near future.</p>
<h2 id="example-usage-390"><span id="example-usage">Example Usage</span> {#390}</h2>
<p>Ticker displaying text from a file:</p>
<pre class="literal-block"><code>Pipeline( RateControlledFileReader(&quot;textfile&quot;,&quot;lines&quot;,rate=1000),
          Ticker(position=(100,100))
        ).run()</code></pre>
<h2 id="how-does-it-work-391"><span id="how-does-it-work">How does it work?</span> {#391}</h2>
<p>The component requests a display surface from the Pygame Display service component. This is used as the ticker.</p>
<p>Send strings containing <em>lines of text</em> to the Ticker component. Do not send strings with words split between one string and the next. It displays the words as a 'ticker' one word at a time. Text is automatically wrapped from one line to the next. Once the bottom of the ticker is reached, the text automatically jump-scrolls up a line to make more room.</p>
<p>The text is normalised by the ticker. Multiple spaces between words are collapsed to a single space. Linefeeds are ignored.</p>
<p>NOTE: 2 consecutive linefeeds currently results in a special message being sent out of the "_displaysignal" outbox. This is work-in-progress aimed at new features. It is only documented here for completeness and should not be relied upon.</p>
<p>You can set the text size, colour and line spacing. You can also set the background colour, outline (border) colour and width. You can also specify the size and position of the ticker</p>
<p>NOTE: Specifying the outline width currently does not work for any value other than 1.</p>
<p>NOTE: Specify the size of the ticker with the render_right and render_bottom arguments. Specifying render_left and render_top arguments with values other than 1 results in parts of the ticker being obscured.</p>
<p>The ticker displays words at a constant rate - it self regulates its display speed.</p>
<p>Whilst it is running, sending any message to the "pausebox" inbox will pause the Ticker. It will continue to buffer incoming text. Any message sent to the "unpausebox" inbox will cause the Ticker to resume.</p>
<p>Whilst running, you can change the transparency of the ticker by sending a value to the "alphacontrol" inbox between 0 (fully transparent) and 255 (fully opaque) inclusive.</p>
<p>If a producerFinished message is received on the "control" inbox, this component will send its own producerFinished message to the "signal" outbox and will terminate.</p>
<p>However, if the ticker is paused (message sent to "pausebox" inbox) then the component will ignore messages on its "control" inbox until it is unpaused by sending a message to its "unpausebox" inbox.</p>
<hr />
<h1 id="kamaelia.ui.pygame.ticker.ticker"><a href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a href="/Components/pydoc/Kamaelia.UI.html" class="reference">UI</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.html" class="reference">Pygame</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.Ticker.html" class="reference">Ticker</a>.<a href="/Components/pydoc/Kamaelia.UI.Pygame.Ticker.Ticker.html" class="reference">Ticker</a></h1>
<h2 id="symbol-Ticker">class Ticker(<a href="/Docs/Axon/Axon.Component.component.html" class="reference">Axon.Component.component</a>)</h2>
<p>Ticker(...) -&gt; new Ticker component.</p>
<p>A pygame based component that displays incoming text as a ticker.</p>
<p>Keyword arguments (all optional):</p>
<ul>
<li>text_height -- Font size in points (default=39)</li>
<li>line_spacing -- (default=text_height/7)</li>
<li>background_colour -- (r,g,b) background colour of the ticker (default=(128,48,128))</li>
<li>text_colour -- (r,g,b) colour of text (default=(232,232,48))</li>
<li>outline_colour -- (r,g,b) colour of the outline border (default=background_colour)</li>
<li>outline_width -- pixels width of the border (default=1)</li>
<li>position -- (x,y) pixels location of the top left corner</li>
<li>render_left -- pixels distance of left of text from left edge (default=1)</li>
<li>render_top -- pixels distance of top of text from top edge (default=1)</li>
<li>render_right -- pixels width of ticker (default=399)</li>
<li>render_bottom -- pixels height of ticker (default=299)</li>
</ul>
<p>NOTE: render_left and render_top currently behave incorrectly if not set to 1</p>
<h3 id="inboxes"><span id="symbol-Ticker.Inboxes">Inboxes</span></h3>
<ul>
<li><strong>control</strong> : NOT USED (yet)</li>
<li><strong>_displaycontrol</strong> : Shutdown messages &amp; feedback from Pygame Display service</li>
<li><strong>unpausebox</strong> : Any message unpauses the ticker</li>
<li><strong>pausebox</strong> : Any message pauses the ticker</li>
<li><strong>inbox</strong> : Specify (new) filename</li>
<li><strong>alphacontrol</strong> : Transparency of the ticker (0=fully transparent, 255=fully opaque)</li>
</ul>
<h3 id="outboxes"><span id="symbol-Ticker.Outboxes">Outboxes</span></h3>
<ul>
<li><strong>outbox</strong> : NOT USED</li>
<li><strong>signal</strong> : NOT USED (yet)</li>
<li><strong>_displaysignal</strong> : Shutdown signalling &amp; sending requests to Pygame Display service</li>
</ul>
<h3 id="methods-defined-here">Methods defined here</h3>
<div class="container">
<div class="boxright">
<p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div>
</div>
<h4 id="init__self-argd"><span id="symbol-Ticker.__init__">__init__(self, **argd)</span></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
<h4 id="cleardisplayself"><span id="symbol-Ticker.clearDisplay">clearDisplay(self)</span></h4>
<p>Clears the ticker of any existing text.</p>
<h4 id="handlealphaself"><span id="symbol-Ticker.handleAlpha">handleAlpha(self)</span></h4>
<h4 id="mainself"><span id="symbol-Ticker.main">main(self)</span></h4>
<p>Main loop.</p>
<h4 id="renderborderself-display"><span id="symbol-Ticker.renderBorder">renderBorder(self, display)</span></h4>
<p>Draws a rectangle to form the 'border' of the ticker</p>
<h4 id="requestdisplayself-argd"><span id="symbol-Ticker.requestDisplay">requestDisplay(self, **argd)</span></h4>
<p>Generator. Gets a display surface from the Pygame Display service.</p>
<p>Makes the request, then yields 1 until a display surface is returned.</p>
<h4 id="waitboxself-boxname"><span id="symbol-Ticker.waitBox">waitBox(self, boxname)</span></h4>
<p>Generator. yields 1 until data ready on the named inbox.</p>
<section>

</section>
</div>
<h1 id="feedback">Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer? Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback <a href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701" class="reference">here</a> in reply to the documentation thread in the Kamaelia blog.</p>
<p><em>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38 UTC/GMT</em></p>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
