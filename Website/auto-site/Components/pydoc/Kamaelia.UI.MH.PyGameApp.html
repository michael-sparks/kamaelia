<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | 
    <a href="/About.html">About</a> | 
    <a href="/RecentChanges.html">Recent Changes</a> | 
    <a href="/Documentation.html">Documentation</a> |
    <a href="/Community.html">Community</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>March 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<div class="container">
<h1 id="kamaelia.ui.mh.pygameapp"><a
href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a
href="/Components/pydoc/Kamaelia.UI.html" class="reference">UI</a>.<a
href="/Components/pydoc/Kamaelia.UI.MH.html" class="reference">MH</a>.<a
href="/Components/pydoc/Kamaelia.UI.MH.PyGameApp.html"
class="reference">PyGameApp</a></h1>
<section>
<div class="container">
<ul>
<li><strong>component <a
href="/Components/pydoc/Kamaelia.UI.MH.PyGameApp.PyGameApp.html"
class="reference">PyGameApp</a></strong></li>
</ul>
</div>
<ul>
<li><a href="#352" class="reference">Simple Pygame application
framework</a>
<ul>
<li><a href="#353" class="reference">Example Usage</a></li>
<li><a href="#354" class="reference">How does it work?</a></li>
</ul></li>
</ul>
</section>
<h1 id="352">Simple Pygame application framework</h1>
<p>A component that sets up a pygame display surface and provides a main
loop and simple event dispatch framework.</p>
<p>The rendering surface is requested from the Pygame Display service
component, so this component can coexist with other components using
pygame.</p>
<h2 id="353"><span id="example-usage">Example Usage</span></h2>
<dl>
<dt>::</dt>
<dd>
<p>class SimpleApp1(PyGameApp):</p>
<blockquote>
<dl>
<dt>def initialiseComponent(self):</dt>
<dd>
self.addHandler(MOUSEBUTTONDOWN, lambda event : self.mousedown(event))
</dd>
<dt>def mainLoop(self):</dt>
<dd>
... draw and do other stuff here... return 1
</dd>
<dt>def mousedown(self, event):</dt>
<dd>
print "Mouse down!"
</dd>
</dl>
</blockquote>
<p>app = SimpleApp1( (800,600) ).run()</p>
</dd>
</dl>
<h2 id="354"><span id="how-does-it-work">How does it work?</span></h2>
<p>Subclass this component to implement your own pygame 'app'. Replace
the mainLoop() stub with your own code to redraw the display surface
etc. This method will be called every cycle - do not incorporate your
own loop!</p>
<p>The self.screen attribute is the pygame surface you should render
to.</p>
<p>The component provides a simple event dispatch framework. Call
addHandler and removeHandler to register and deregister handlers from
events.</p>
<p>More than one handler can be registered for a given event. They are
called in the order in which they were registered. If a handler returns
True then the event is 'claimed' and no further handlers will be
called.</p>
<p>The component will terminate if the user clicks the close button on
the pygame display window, however your mainLoop() method will not be
notified, and there is no specific 'quit' event handler.</p>
<hr />
<h1 id="kamaelia.ui.mh.pygameapp.pygameapp"><a
href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a
href="/Components/pydoc/Kamaelia.UI.html" class="reference">UI</a>.<a
href="/Components/pydoc/Kamaelia.UI.MH.html" class="reference">MH</a>.<a
href="/Components/pydoc/Kamaelia.UI.MH.PyGameApp.html"
class="reference">PyGameApp</a>.<a
href="/Components/pydoc/Kamaelia.UI.MH.PyGameApp.PyGameApp.html"
class="reference">PyGameApp</a></h1>
<h2 id="symbol-PyGameApp">class PyGameApp(<a
href="/Docs/Axon/Axon.Component.component.html"
class="reference">Axon.Component.component</a>)</h2>
<p>PyGameApp(screensize[,caption][,transparency][,position]) -&gt; new
PyGameApp component.</p>
<p>Creates a PyGameApp component that obtains a pygame display surface
and provides an internal pygame event dispatch mechanism.</p>
<p>Subclass to implement your own pygame "app".</p>
<p>Keyword arguments:</p>
<ul>
<li>screensize -- (width,height) of the display area (default =
(800,600))</li>
<li>caption -- Caption for the pygame window (default = "Topology
Viewer")</li>
<li>fullscreen -- True to start up in fullscreen mode (default =
False)</li>
<li>transparency -- None, or (r,g,b) colour to make transparent</li>
<li>position -- None, or (left,top) position for surface within pygame
window</li>
</ul>
<h3 id="inboxes"><span id="symbol-PyGameApp.Inboxes">Inboxes</span></h3>
<ul>
<li><strong>control</strong> : NOT USED</li>
<li><strong>displaycontrol</strong> : Replies from Pygame Display
service</li>
<li><strong>inbox</strong> : NOT USED</li>
<li><strong>events</strong> : Event notifications from Pygame Display
service</li>
</ul>
<h3 id="outboxes"><span
id="symbol-PyGameApp.Outboxes">Outboxes</span></h3>
<ul>
<li><strong>outbox</strong> : NOT USED</li>
<li><strong>signal</strong> : NOT USED</li>
<li><strong>displaysignal</strong> : Requests to Pygame Display
service</li>
</ul>
<h3 id="methods-defined-here">Methods defined here</h3>
<div class="container">
<div class="boxright">
<p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods
(except construction). This documentation is designed as a roadmap as to
their functionalilty for maintainers and new component developers.</p>
</div>
</div>
<h4
id="init__self-screensize-caption-fullscreen-depth-transparency-position"><span
id="symbol-PyGameApp.__init__">__init__(self, screensize[, caption][,
fullscreen][, depth][, transparency][, position])</span></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for
signature</p>
<h4 id="dispatchself"><span
id="symbol-PyGameApp._dispatch">_dispatch(self)</span></h4>
<p>Internal pygame event dispatcher.</p>
<p>For all events received, it calls all event handlers in sequence
until one returns True.</p>
<h4 id="addhandlerself-eventtype-handler"><span
id="symbol-PyGameApp.addHandler">addHandler(self, eventtype,
handler)</span></h4>
<p>Add an event handler, for a given PyGame event type.</p>
<p>The handler is passed the pygame event object as its argument when
called.</p>
<h4 id="eventsself"><span
id="symbol-PyGameApp.events">events(self)</span></h4>
<p>Generator. Receive events on "events" inbox and yield then one at a
time.</p>
<h4 id="goself"><span id="symbol-PyGameApp.go">go(self)</span></h4>
<p>Call this to run the pygame app, without using an <a
href="/Docs/Axon/Axon.html" class="reference">Axon</a> scheduler.</p>
<p>Returns when the app 'quits'</p>
<h4 id="initialisecomponentself"><span
id="symbol-PyGameApp.initialiseComponent">initialiseComponent(self)</span></h4>
<h4 id="mainself"><span
id="symbol-PyGameApp.main">main(self)</span></h4>
<p>Main loop. Do not override</p>
<h4 id="mainloopself"><span
id="symbol-PyGameApp.mainLoop">mainLoop(self)</span></h4>
<p>Implement your runtime loop in this method here. FIXME: This is less
than ideal.</p>
<h4 id="quitself-event"><span id="symbol-PyGameApp.quit">quit(self[,
event])</span></h4>
<p>Call this method/event handler to finish</p>
<h4 id="removehandlerself-eventtype-handler"><span
id="symbol-PyGameApp.removeHandler">removeHandler(self, eventtype,
handler)</span></h4>
<p>Remove the specified pygame event handler from the specified
event.</p>
<h4 id="waitboxself-boxname"><span
id="symbol-PyGameApp.waitBox">waitBox(self, boxname)</span></h4>
<p>Generator. Yields until data ready on the named inbox.</p>
<section>

</section>
</div>
<h1 id="feedback">Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be
clearer? Want to help improve it? Constructive criticism is very welcome
- especially if you can suggest a better rewording!</p>
<p>Please leave you feedback <a
href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701"
class="reference">here</a> in reply to the documentation thread in the
Kamaelia blog.</p>
<p><em>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38
UTC/GMT</em></p>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
