<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | 
    <a href="/About.html">About</a> | 
    <a href="/RecentChanges.html">Recent Changes</a> | 
    <a href="/Documentation.html">Documentation</a> |
    <a href="/Community.html">Community</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>Feb 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<div class="container">
<h1 id="kamaelia.util.rangefilter"><a href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a href="/Components/pydoc/Kamaelia.Util.html" class="reference">Util</a>.<a href="/Components/pydoc/Kamaelia.Util.RangeFilter.html" class="reference">RangeFilter</a></h1>
<section>
<div class="container">
<ul>
<li><strong>component <a href="/Components/pydoc/Kamaelia.Util.RangeFilter.RangeFilter.html" class="reference">RangeFilter</a></strong></li>
</ul>
</div>
<ul>
<li><a href="#152" class="reference">Filter items out that are not in range</a>
<ul>
<li><a href="#153" class="reference">Example Usage</a></li>
<li><a href="#154" class="reference">Behaviour</a></li>
</ul></li>
</ul>
</section>
<h1 id="filter-items-out-that-are-not-in-range-152">Filter items out that are not in range {#152}</h1>
<p>RangeFilter passes through items received on its "inbox" inbox where item[0] lies within one or more of a specfied set of ranges of value. Items that don't match this are discarded.</p>
<h2 id="example-usage-153"><span id="example-usage">Example Usage</span> {#153}</h2>
<p>Reading all video frames from a YUV4MPEG format video file, but only passing on video frames 25-49 and 100-199 inclusive further along the pipeline:</p>
<pre class="literal-block"><code>Pipeline( RateControlledFileReader(&quot;myvideo.yuv4mpeg&quot;,readmode=&quot;bytes&quot;),
          YUV4MPEGToFrame(),
          TagWithSequenceNumber(),
          RangeFilter(ranges=[ (25,49), (100,199) ]),
          ...
        ).run()</code></pre>
<h2 id="behaviour-154"><span id="behaviour">Behaviour</span> {#154}</h2>
<p>At initialisation, specify a list of value ranges that RangeFilter should allow. The list should be of the form:</p>
<pre class="literal-block"><code>[ (low,high), (low,high), (low, high), ... ]</code></pre>
<p>The ranges specified are inclusive.</p>
<p>Send an item to the "inbox" inbox of the form (value, .â€¦). If the value matches one or more of the ranges specified, then the whole item (including the value) will immediately be sent on out of the "outbox" outbox.</p>
<p>RangeFilter can therefore be used to select slices through sequence numbered or timestamped data.</p>
<p>If the size limited inbox is full, this component will pause until it is able to send out the data,.</p>
<p>If a producerFinished message is received on the "control" inbox, this component will complete parsing any data pending in its inbox, and finish sending any resulting data to its outbox. It will then send the producerFinished message on out of its "signal" outbox and terminate.</p>
<p>If a shutdownMicroprocess message is received on the "control" inbox, this component will immediately send it on out of its "signal" outbox and immediately terminate. It will not complete processing, or sending on any pending data.</p>
<hr />
<h1 id="kamaelia.util.rangefilter.rangefilter"><a href="/Components/pydoc/Kamaelia.html" class="reference">Kamaelia</a>.<a href="/Components/pydoc/Kamaelia.Util.html" class="reference">Util</a>.<a href="/Components/pydoc/Kamaelia.Util.RangeFilter.html" class="reference">RangeFilter</a>.<a href="/Components/pydoc/Kamaelia.Util.RangeFilter.RangeFilter.html" class="reference">RangeFilter</a></h1>
<h2 id="symbol-RangeFilter">class RangeFilter(<a href="/Docs/Axon/Axon.Component.component.html" class="reference">Axon.Component.component</a>)</h2>
<p>RangeFilter(ranges) -&gt; new RangeFilter component.</p>
<p>Filters out items of the form (value, ...) not within at least one of a specified value set of range. Items within range are passed through.</p>
<p>Keyword arguments:</p>
<pre class="literal-block"><code>- ranges  -- list of (low,high) pairs representing ranges of value. Ranges are inclusive.</code></pre>
<h3 id="inboxes"><span id="symbol-RangeFilter.Inboxes">Inboxes</span></h3>
<h3 id="outboxes"><span id="symbol-RangeFilter.Outboxes">Outboxes</span></h3>
<ul>
<li><strong>outbox</strong> : items in range</li>
<li><strong>signal</strong> : Shutdown signalling</li>
</ul>
<h3 id="methods-defined-here">Methods defined here</h3>
<div class="container">
<div class="boxright">
<p><strong>Warning!</strong></p>
<p>You should be using the inbox/outbox interface, not these methods (except construction). This documentation is designed as a roadmap as to their functionalilty for maintainers and new component developers.</p>
</div>
</div>
<h4 id="init__self-ranges"><span id="symbol-RangeFilter.__init__">__init__(self, ranges)</span></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
<h4 id="canstopself"><span id="symbol-RangeFilter.canStop">canStop(self)</span></h4>
<p>Checks for any shutdown messages arriving at the "control" inbox, and returns true if the component should terminate when it has finished processing any pending data.</p>
<h4 id="handlecontrolself"><span id="symbol-RangeFilter.handleControl">handleControl(self)</span></h4>
<p>Collects any new shutdown messages arriving at the "control" inbox, and ensures self.shutdownMsg contains the highest priority one encountered so far.</p>
<h4 id="inrangeself-index"><span id="symbol-RangeFilter.inRange">inRange(self, index)</span></h4>
<p>Returns one of the ranges that the specified index falls within, otherwise returns None.</p>
<h4 id="mainself"><span id="symbol-RangeFilter.main">main(self)</span></h4>
<p>Main loop</p>
<h4 id="muststopself"><span id="symbol-RangeFilter.mustStop">mustStop(self)</span></h4>
<p>Checks for any shutdown messages arriving at the "control" inbox, and returns true if the component should terminate immediately.</p>
<h4 id="waitsendself-data-boxname"><span id="symbol-RangeFilter.waitSend">waitSend(self, data, boxname)</span></h4>
<p>Generator.</p>
<p>Sends data out of the "outbox" outbox. If the destination is full (noSpaceInBox exception) then it waits until there is space. It keeps retrying until it succeeds.</p>
<p>If the component is ordered to immediately terminate then "STOP" is raised as an exception.</p>
<section>

</section>
</div>
<h1 id="feedback">Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer? Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback <a href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701" class="reference">here</a> in reply to the documentation thread in the Kamaelia blog.</p>
<p><em>-- Automatic documentation generator, 05 Jun 2009 at 03:01:38 UTC/GMT</em></p>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
