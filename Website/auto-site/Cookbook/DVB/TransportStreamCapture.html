<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | <a href="/About.html">About</a> | <a href="/Developers.html">Developers</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>Feb 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<h1 id="cookbook-recording-a-whole-dvb-broadcast">Cookbook : Recording a whole DVB broadcast</h1>
<p>Find the code for this here:<br />
<a href="http://svn.sourceforge.net/viewvc/kamaelia/trunk/Code/Python/Kamaelia/Examples/DVB_Systems/TransportStreamCapture.py?view=markup">/Code/Python/Kamaelia/Examples/DVB_Systems/TransportStreamCapture.py</a><br />
</p>
<p>This simple example shows how to record a whole broadcast DVB multiplex at a frequency of 505.83MHz, with specific parameters to help the tuner:</p>
<pre><code>    from Kamaelia.Device.DVB.Core import DVB_Multiplex
    from Kamaelia.Chassis.Pipeline import Pipeline
    from Kamaelia.File.Writing import SimpleFileWriter
    
    import dvb3
    
    freq = 505.833330 # 529.833330   # 505.833330
    feparams = {
        &quot;inversion&quot; : dvb3.frontend.INVERSION_AUTO,
        &quot;constellation&quot; : dvb3.frontend.QAM_16,
        &quot;code_rate_HP&quot; : dvb3.frontend.FEC_3_4,
        &quot;code_rate_LP&quot; : dvb3.frontend.FEC_3_4,
    }
    
    Pipeline(
       DVB_Multiplex(freq, [0x2000],feparams), # BBC Multiplex 1, whole transport stream
       SimpleFileWriter(&quot;BBC_MUX_1.ts&quot;),
    ).run()</code></pre>
<p>The DVB_Multiplex component is the simplest and easiest to use combined tuner and demultiplexer component - you simply specify the frequency, a list of packet IDs to demultiplex, and an optional dictionary of tuner control parameters.</p>
<p>By specifying the special PID of 0x2000 the demultiplexer outputs all packets. However, not that not all DVB hardware supports this.<br />
</p>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
