<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | 
    <a href="/About.html">About</a> | 
    <a href="/RecentChanges.html">Recent Changes</a> | 
    <a href="/Documentation.html">Documentation</a> |
    <a href="/Community.html">Community</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>March 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<h1
id="cookbook-separating-out-lots-of-channels-from-a-recorded-dvb-broadcast">Cookbook
: Separating out lots of channels from a recorded DVB broadcast</h1>
<p>Find this code here:<br />
<a
href="http://svn.sourceforge.net/viewvc/kamaelia/trunk/Code/Python/Kamaelia/Examples/DVB_Systems/TransportStreamDemuxer.py?view=markup">/Code/Python/Kamaelia/Examples/DVB_Systems/TransportStreamDemuxer.py</a></p>
<p>This simple example shows how to read back in a recorded transport
stream from a file and separate out (demultiplex) several channels from
it:</p>
<blockquote>
<pre><code>from Kamaelia.Device.DVB.Core import DVB_Demuxer
from Kamaelia.File.ReadFileAdaptor import ReadFileAdaptor
from Kamaelia.Chassis.Graphline import Graphline
from Kamaelia.File.Writing import SimpleFileWriter

Graphline(
    SOURCE=ReadFileAdaptor(&quot;BBC_MUX_1.ts&quot;),
    DEMUX=DVB_Demuxer({
        640: [&quot;NEWS24&quot;],
        641: [&quot;NEWS24&quot;],
        600: [&quot;BBCONE&quot;],
        601: [&quot;BBCONE&quot;],
        610: [&quot;BBCTWO&quot;],
        611: [&quot;BBCTWO&quot;],
        620: [&quot;CBBC&quot;],
        621: [&quot;CBBC&quot;],
        18:  [&quot;NEWS24&quot;, &quot;BBCONE&quot;],# &quot;BBCTWO&quot;, &quot;CBBC&quot;],
    }),
    NEWS24=SimpleFileWriter(&quot;news24.data&quot;),
    BBCONE=SimpleFileWriter(&quot;bbcone.data&quot;),
    BBCTWO=SimpleFileWriter(&quot;bbctwo.data&quot;),
    CBBC=SimpleFileWriter(&quot;cbbc.data&quot;),
    linkages={
       (&quot;SOURCE&quot;, &quot;outbox&quot;):(&quot;DEMUX&quot;,&quot;inbox&quot;),
       (&quot;DEMUX&quot;, &quot;NEWS24&quot;): (&quot;NEWS24&quot;, &quot;inbox&quot;),
       (&quot;DEMUX&quot;, &quot;BBCONE&quot;): (&quot;BBCONE&quot;, &quot;inbox&quot;),
       (&quot;DEMUX&quot;, &quot;BBCTWO&quot;): (&quot;BBCTWO&quot;, &quot;inbox&quot;),
       (&quot;DEMUX&quot;, &quot;CBBC&quot;): (&quot;CBBC&quot;, &quot;inbox&quot;),
    }
).run()</code></pre>
</blockquote>
<p>The <em>DVB_Demuxer</em> component takes, at initialization, a
dictionary mapping packet IDs (PIDs) to outbox names. Each of those
outboxes has been linked to a <em>SimpleFileWriter</em> component to
write it to a file.<br />
</p>
<p>For all the channels there are two PIDs - one for the audio and one
for the video. For two of them, we also include PID 18 which carries
Event Information Tables (tables containing now &amp; next and EPG
data)<br />
</p>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
