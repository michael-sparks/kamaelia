<html>
<head>
<title> index </title>
<link rel=stylesheet type="text/css" href="/site-resources/base.css">
<link rel=stylesheet type="text/css" href="/site-resources/pandoc.css">
</head>
<body>
<div class="banner">
<P> <a href="/Home.html">Home</a> | 
    <a href="/About.html">About</a> | 
    <a href="/RecentChanges.html">Recent Changes</a> | 
    <a href="/Documentation.html">Documentation</a> |
    <a href="/Community.html">Community</a>
</div>
<div class="pagecontainer">
<div class="pagesection">
<div id="pagenote">
<p>March 2024 - This site, and Kamaelia are <a href="https://github.com/sparkslabs/kamaelia/issues/15">being updated</a>. There is significant work needed, and <a href="https://github.com/sparkslabs/kamaelia/pulls">PRs</a> are welcome.
</div>
<h1 id="cookbook-aimharness">Cookbook: AIMHarness</h1>
<p>Sending and receiving messages over AIM is easy. AIMHarness only
deals with four kinds of messages: outgoing IMs, incoming IMs, buddy
online notifications, and error notifications. The first kind it
receives in its inbox, and the other three are sent out through its
outbox.<br />
<br />
</p>
<ul>
<li>To send an instant message to another user, send the command
("message", recipient, text of the message) to its "inbox".</li>
<li>AIMHarness will send out the following notifications through its
"outbox":</li>
</ul>
<!-- -->
<pre><code>      NOTIFICATION                                         EVENT
                (&quot;buddy online&quot;, {buddy information})                A buddy comes online
                (&quot;message&quot;, sender, message text)                    An instant message arrives for you
                (&quot;error&quot;, error message)                             An error occurs during the first stage of login</code></pre>
<p><br />
<br />
</p>
<h2 id="a-simple-one-buddy-aim-client-using-pygame">A simple, one-buddy
AIM client using Pygame</h2>
<blockquote>
<pre><code>def sendTo(recipient, text):
    return (&quot;message&quot;, recipient, text)

def outformat(data, buddyname):
    if data[0] == &quot;buddy online&quot; and data[1][&quot;name&quot;] ==  buddyname:
        return &quot;%s is online&quot; % buddyname
    elif data[0] == &quot;message&quot; and data[1] == buddyname:
        return &quot;%s: %s&quot; % (buddyname, data[2])
    elif data[0] == &quot;error&quot;:
        &quot;: &quot;.join(data)

def SimpleAIMClient(screenname, password, buddyname):
    Pipeline(Textbox(position=(0, 400)),
             PureTransformer(lambda text: sendTo(buddyname, text)),
             AIMHarness(screenname, password),
             PureTransformer(lambda tup: outformat(tup, buddyname)),
             TextDisplayer()
             ).run()</code></pre>
</blockquote>

</div> <!-- end section -->
</div> <!-- end page container -->

<div class="banner">
<a href="https://www.bbc.co.uk/rd"><img src="/site-resources/BBCRD_Logo.jpg"></a>
<P id="mini">  Kamaelia is an open source project originated from and guided
by <a href="https://www.bbc.co.uk/rd">BBC Research.</a> For more information
browse the site or get in contact.
<br>This is an ongoing community based development site.  As a result the
contents of this page is the opinions of the contributors of the pages
involved not the organisations involved.  Specificially, this page may
contain personal views which are not the views of the BBC.

<br>(C) Copyright 2004-2024 Kamaelia Contributors, including the British
Broadcasting Corporation, All Rights Reserved.
</div>
</body>
</html>
